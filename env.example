# Copy to .env.local and fill with your Razorpay credentials
# Never commit your real secrets

# Public key is safe to expose to the browser (NEXT_PUBLIC_* will be available client-side)
NEXT_PUBLIC_RAZORPAY_KEY_ID=rzp_test_xxxxxxxxxxxxx

# Server-side secret (never expose on client)
RAZORPAY_KEY_ID=rzp_test_xxxxxxxxxxxxx
RAZORPAY_KEY_SECRET=xxxxxxxxxxxxxxxxxxxx
# Optional: platform (parent) Razorpay account id used in transfers
RAZORPAY_PLATFORM_ACCOUNT=acc_xxxxxxxxxxxxxx
# Optional: webhook secret to verify Razorpay webhooks
RAZORPAY_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxx
# Set default mode (test|live) if both credentials present
# RAZORPAY_MODE=test

# Commission split defaults:
# Each therapist can override defaultCommissionPercent (0-1) in their profile.
# Example: 0.15 => 15% platform commission.

# JWT and DB examples (if not already set elsewhere)
# JWT_SECRET=change_me
# MONGODB_URI=mongodb+srv://user:pass@cluster/dbname

# 100ms (Video) Configuration
# Provide either HMS_MANAGEMENT_TOKEN (preferred for server-side room creation)
# OR HMS_ACCESS_KEY + HMS_SECRET (Basic Auth). For auto room creation also set HMS_TEMPLATE_ID.
# If you only want to join existing rooms, you can skip HMS_TEMPLATE_ID and supply room_id from client.

# Management token (JWT) from 100ms dashboard (Project -> Developer -> Management Token)
# HMS_MANAGEMENT_TOKEN=eyJ0eXAiOiJKV1QiLCJhbGciOiJI... (do NOT expose client-side)

# Basic credentials (legacy / fallback)
# HMS_ACCESS_KEY=your_access_key_here
# HMS_SECRET=your_secret_here

# Template used to auto-create rooms (Project -> Templates -> copy ID)
# HMS_TEMPLATE_ID=your_template_id

# Optional: prefix for auto-generated room names
# HMS_ROOM_CODE_PREFIX=thera

# Subdomain of your 100ms project (Project -> Developer -> Subdomain). Required for new room-id token endpoint
# HMS_SUBDOMAIN=your_subdomain

# Cluster domain used for room code join flow (leave default unless instructed by 100ms). Common values: prod-in2, prod-us2
# HMS_ROOM_CODE_JOIN_DOMAIN=prod-in2
# (Video Session Server Flow) Ensure these are set for therapist-managed rooms
# HMS_TEMPLATE_ID=template_id_here
# HMS_MANAGEMENT_TOKEN=jwt_here


# Optional auth bypass for local development ONLY (never enable in production)
# HMS_DEV_AUTH_BYPASS=1

# Optional: Allow temporarily compromised key usage locally (see code guard)
# HMS_ALLOW_COMPROMISED=1

# Increase token route debug verbosity
# HMS_DEBUG=1

# --- 100ms SIP Interconnect (Dial-in) ---------------------------------
# You must request SIP Interconnect access from 100ms support first.
# Once whitelisted, add the SIP credentials from 100ms Dashboard > Developer > SIP Credentials
# HMS_SIP_USERNAME=your_sip_username
# HMS_SIP_PASSWORD=your_sip_password

# Shared secret to protect Twilio (or other SIP provider) webhook endpoint.
# Choose any long random string and keep it secret; pass via header x-internal-auth.
# SIP_TWIML_SHARED_SECRET=change_this_shared_secret

# If you want to force providing a room code instead of auto room creation for SIP usage
# HMS_REQUIRE_ROOM_ID=1
# ----------------------------------------------------------------------

# --- 100ms Usage Notes -------------------------------------------------
# Two ways to obtain a token:
# 1. Room Code (simplest): client calls POST /api/100ms-token with { userName, roomCode }
#    -> backend hits https://<cluster>.100ms.live/api/v2/room-codes/{roomCode}/join (no auth needed)
# 2. Room ID (managed): provide HMS_MANAGEMENT_TOKEN or HMS_ACCESS_KEY/HMS_SECRET plus (optionally) HMS_TEMPLATE_ID for auto room creation.
#    -> backend uses https://<HMS_SUBDOMAIN>.api.100ms.live/v2/rooms/{room_id}/tokens
# ----------------------------------------------------------------------

# --- Twilio / SendGrid Notifications ----------------------------------
# Twilio for SMS & WhatsApp; SendGrid for email (optional).

# Twilio (Programmable Messaging)
# TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_SMS_FROM=+12345678901                 # Purchased / verified Twilio phone number
# TWILIO_WHATSAPP_FROM=+12345678901            # Same number onboarded for WhatsApp OR sandbox number

# SendGrid (Email)
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# SENDGRID_FROM_EMAIL=no-reply@example.com

# General
# NOTIFICATIONS_DEBUG=1                        # Verbose console logging
# NEXT_PUBLIC_BASE_URL=http://localhost:3000    # For building absolute meeting links
# ----------------------------------------------------------------------
